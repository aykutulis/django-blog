{% extends 'layout.html' %} {% block content %}
<h1>Articles</h1>

<hr />

<form class="d-flex" role="search" method="get">
  <input
    class="form-control me-2"
    name="keyword"
    type="search"
    placeholder="Search"
    aria-label="Search"
    value="{{ keyword }}"
  />
  <button class="btn btn-outline-success" type="submit">Search</button>
</form>

<div class="row gap-3 mt-3">
  {% if articles %} {% for article in articles %}
  <div class="col-md-8">
    <h3>{{ article.title }}</h3>
    <hr />
    <p class="text-muted">Author: {{ article.author }} | Date: {{ article.created_date }}</p>

    {% if article.image %}
    <img src="{{ article.image.url }}" alt="{{ article.title }}" class="img-fluid my-4" />
    {% endif %}

    <p>{{ article.content|safe|truncatewords:50 }}</p>

    {% if article.content|length > 50 %}
    <a href="/articles/article/{{ article.id }}" class="btn btn-primary">Read more</a>
    {% endif %}
  </div>
  {% endfor %} {% else %}
</div>
<div class="alert alert-danger">No articles found.</div>
{% endif %} {% endblock %}
